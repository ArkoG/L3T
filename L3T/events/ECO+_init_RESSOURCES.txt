#############################################################
#  ECO+ an improved economy MOD for CK2 by ARKO  #
#############################################################


namespace = ECO


###évaluation du potentiel économique

##évaluation du potentiel économique -plaines-
province_event = {
    id = ECO.0001
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		OR = {
			terrain = plains
			AND = {
				terrain = coastal_desert
				has_global_flag = SWMH
			}
		}
		NOT = { terrain = forest }
	}
	
	mean_time_to_happen = { days = 10 }

	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			80 = { add_province_modifier = { name = agriculture1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			20 = {}
		}
		random_list = {
			30 = { add_province_modifier = { name = elevage1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			35 = { add_province_modifier = { name = foret1			duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			35 = {}
		}
		if = { 
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -coteaux-			
province_event = {
    id = ECO.0002
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = hills
	}
	
	mean_time_to_happen = { days = 10 }

	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			20 = { add_province_modifier = { name = elevage1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			50 = { add_province_modifier = { name = agriculture1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			30 = {}
		}
		random_list = {
			70 = { add_province_modifier = { name = minerai1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			30 = {}
		}
		if = {
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		if = {
			limit = { has_province_modifier = province_terrestre }
			random_list = {
				35 = { add_province_modifier = { name = pisci1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				65 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -forets-
province_event = {
    id = ECO.0003
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = forest
	}
	
	mean_time_to_happen = { days = 10 }

	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		add_province_modifier = { name = foret1		duration = -1	}
		change_variable = { which = "resourceNb" value = 1 } 
		random_list = {
			 5 = { add_province_modifier = { name = elevage1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			10 = { add_province_modifier = { name = agriculture1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			10 = { add_province_modifier = { name = minerai1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			 5 = { add_province_modifier = { name = pierre1			duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			70 = {}
		}
		if = { 
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -montagnes-	
province_event = {
    id = ECO.0004
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = mountain
	}
	
	mean_time_to_happen = { days = 10 }
	
	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			40 = { add_province_modifier = { name = elevage1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			25 = { add_province_modifier = { name = minerai1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			35 = {}
		}
		random_list = {
			70 = { add_province_modifier = { name = pierre1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			30 = {}
		}
		if = { 
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -terres arables-	
province_event = {
    id = ECO.0005
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = farmlands
	}
	
	mean_time_to_happen = { days = 10 }
	
	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		add_province_modifier = { name = agriculture1		duration = -1	}
		change_variable = { which = "resourceNb" value = 1 } 
		random_list = {
			10 = { add_province_modifier = { name = elevage1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			 5 = { add_province_modifier = { name = foret1			duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			 5 = { add_province_modifier = { name = minerai1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			10 = { add_province_modifier = { name = pierre1			duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			70 = {}
		}
		if = { 
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -déserts-	
province_event = {
    id = ECO.0008
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = desert
	}
	
	mean_time_to_happen = { days = 10 }
	
	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			25 = { add_province_modifier = { name = pierre1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			75 = {}
		}
		random_list = {
			70 = { add_province_modifier = { name = minerai1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			30 = {}
		}
		if = {
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -steppe-	
province_event = {
    id = ECO.00080
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = steppe
	}
	
	mean_time_to_happen = { days = 10 }
	
	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			30 = { add_province_modifier = { name = agriculture1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			70 = {}
		}
		random_list = {
			90 = { add_province_modifier = { name = elevage1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			10 = {}
		}
		if = {
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -jungle-	
province_event = {
    id = ECO.00081
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = jungle
	}
	
	mean_time_to_happen = { days = 10 }
	
	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			65 = { add_province_modifier = { name = foret1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			35 = {}
		}
		random_list = {
			30 = { add_province_modifier = { name = minerai1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			70 = {}
		}
		if = {
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##évaluation du potentiel économique -arctique-	
province_event = {
    id = ECO.00082
	hide_window = yes
	
	trigger = {
		NOT = { has_province_flag = ressources_testees }
		OR = {
			has_province_modifier = province_cotiere
			has_province_modifier = province_terrestre
		}
		terrain = arctic
	}
	
	mean_time_to_happen = { days = 10 }
	
	immediate = {
		set_province_flag = counted_resources
		set_variable = { which = "resourceNb" value = 0 }
		set_province_flag = ressources_testees
		random_list = {
			60 = { add_province_modifier = { name = foret1		duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			40 = {}
		}
		random_list = {
			15 = { add_province_modifier = { name = minerai1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			25 = { add_province_modifier = { name = elevage1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
			60 = {}
		}
		if = {
			limit = { has_province_modifier = province_cotiere }
			random_list = {
				30 = { add_province_modifier = { name = peche1	duration = -1	} change_variable = { which = "resourceNb" value = 1 } }
				70 = {}
			}
		}
		province_event = { id = ECO.0015 days = 10 }
	}
}

##ré-évaluation si zéro ressource.	
province_event = {
    id = ECO.0015
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		has_province_flag = ressources_testees 
		NOT = { #aucune ressource présente
		#on peut aussi mettre une limite fonction de la variable "resourceNb"
		#check_variable = { which = "resourceNb" value = 1 } #less than 1 ressource
			has_province_modifier = agriculture1
			has_province_modifier = elevage1
			has_province_modifier = foret1			
			has_province_modifier = pierre1
			has_province_modifier = minerai1
			has_province_modifier = peche1				
			has_province_modifier = pisci1
		}
	}
	
	immediate = { #suppression du flag pour réattribution
		clr_province_flag = ressources_testees
		province_event = { id = ECO.0001 days = 10 }
		province_event = { id = ECO.0002 days = 10 }
		province_event = { id = ECO.0003 days = 10 }
		province_event = { id = ECO.0004 days = 10 }
		province_event = { id = ECO.0005 days = 10 }
		province_event = { id = ECO.0008 days = 10 }
		province_event = { id = ECO.00080 days = 10 }
		province_event = { id = ECO.00081 days = 10 }
		province_event = { id = ECO.00082 days = 10 }
	}
}

###activation ressources


#activation AGRICULTURE -céréales
province_event = {
    id = ECO.00100
	desc = "DESCECO.00100"
	picture = GFX_evt_ECO3
	
	trigger = {
		has_province_modifier = agriculture1
		NOT = { has_province_modifier = agriculture2_cereales }
		any_province_holding = {
			OR = {	
				has_building = CA_AGRI_cereale_L2
				has_building = CT_AGRI_cereale_L2
				has_building = TP_AGRI_cereale_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00100A"
		add_province_modifier = { name = agriculture2_cereales duration = -1 }		
	}
}

#activation AGRICULTURE -fruits
province_event = {
    id = ECO.00101
	desc = "DESCECO.00101"
	picture = GFX_evt_ECO2
	
	trigger = {
		has_province_modifier = agriculture1
		NOT = { has_province_modifier = agriculture2_fruits }
		any_province_holding = {
			OR = {	
				has_building = CA_AGRI_verger_L2
				has_building = CT_AGRI_verger_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00101A"
		add_province_modifier = { name = agriculture2_fruits duration = -1 }		
	}
}

#activation AGRICULTURE -légumes
province_event = {
    id = ECO.00102
	desc = "DESCECO.00102"
	picture = GFX_evt_ECO2
	
	trigger = {
		has_province_modifier = agriculture1
		NOT = { has_province_modifier = agriculture2_legumes }
		any_province_holding = {
			has_building = TP_AGRI_maraichage_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00102A"
		add_province_modifier = { name = agriculture2_legumes duration = -1 }		
	}
}

#activation AGRICULTURE -vigne
province_event = {
    id = ECO.00103
	desc = "DESCECO.00103"
	picture = GFX_evt_ECO2
	
	trigger = {
		has_province_modifier = agriculture1
		NOT = { has_province_modifier = agriculture2_vigne }
		any_province_holding = {
			has_building = TP_AGRI_vigne_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00103A"
		add_province_modifier = { name = agriculture2_vigne duration = -1 }		
	}
}

#activation ELEVAGE -ovin laine
province_event = {
    id = ECO.00110
	desc = "DESCECO.00110"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = elevage1
		NOT = { has_province_modifier = elevage2_laine }
		any_province_holding = {
			has_building = CA_ELEV_ovin_L2a #bourg féodal hors montagne
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00110A"
		add_province_modifier = { name = elevage2_laine duration = -1 }		
	}
}

#activation ELEVAGE -ovin fromage
province_event = {
    id = ECO.00111
	desc = "DESCECO.00111"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = elevage1
		NOT = { has_province_modifier = elevage2_fromage }
		any_province_holding = {
			OR = {	
				has_building = CA_ELEV_ovin_L2b #bourg féodal, alpage
				has_building = TP_ELEV_ovin_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00111A"
		add_province_modifier = { name = elevage2_fromage duration = -1 }		
	}
}

#activation ELEVAGE -bovin bête sur pied
province_event = {
    id = ECO.00112
	desc = "DESCECO.00112"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = elevage1
		NOT = { has_province_modifier = elevage2_boeuf }
		any_province_holding = {
			has_building = CT_ELEV_bovin_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00112A"
		add_province_modifier = { name = elevage2_boeuf duration = -1 }		
	}
}

#activation FORET -bois
province_event = {
    id = ECO.00120
	desc = "DESCECO.00120"
	picture = GFX_evt_XYLO_forest5
	
	trigger = {
		has_province_modifier = foret2_expl
		NOT = { has_province_modifier = foret2_bois }
		any_province_holding = {
			OR = {	
				has_building = CA_BOIS_bois_L2
				has_building = CT_BOIS_bois_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00120A"
		add_province_modifier = { name = foret2_bois duration = -1 }		
	}
}

#activation FORET -charbon
province_event = {
    id = ECO.00121
	desc = "DESCECO.00121"
	picture = GFX_evt_XYLO_forest5
	
	trigger = {
		has_province_modifier = foret2_expl
		NOT = { has_province_modifier = foret2_charbon }
		any_province_holding = {
			OR = {	
				has_building = CA_BOIS_charbon_L2
				has_building = CT_BOIS_charbon_L2
				has_building = TP_BOIS_charbon_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00121A"
		add_province_modifier = { name = foret2_charbon duration = -1 }		
	}
}

#activation PIERRE
province_event = {
    id = ECO.00130
	desc = "DESCECO.00130"
	picture = GFX_evt_REC4
	
	trigger = {
		has_province_modifier = pierre1
		NOT = { has_province_modifier = pierre2_pierre_brute }
		any_province_holding = {
			OR = {	
				has_building = CA_CARR_pierre_L2
				has_building = CT_CARR_pierre_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00130A"
		remove_province_modifier = pierre1
		add_province_modifier = { name = pierre1 duration = -1 hidden = yes } #now hidden instead of removed
		add_province_modifier = { name = pierre2_pierre_brute duration = -1 }		
	}
}

#activation MINERAI -fer
province_event = {
    id = ECO.00140
	desc = "DESCECO.00140"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = minerai1
		NOT = { has_province_modifier = minerai2_fer }
		any_province_holding = {
			has_building = CA_MINE_minerai_L1 #lowered requirement to Level_1
		}
	}
		
	mean_time_to_happen = { days = 360 }

	immediate = {
			#set_province_flag = mine_active   ###ou modifier hidden ?
			set_variable = { which = "stock_minerai" value = 0 }


	#stock initial = 20 (stock annuel moyen)x20/50ans
	#
	#
	#
	#
	#	
	#consos normales
	#L1 consomme 10/an ; L2 consomme 20/an ; L3 consomme 30/an
	#accident réduit les consos de 30%
	#L1 consomme 7/an ; L2 consomme 14/an ; L3 consomme 20/an
	#hausse de productivité majore 30% les consos (remplace ex flavour event nouveau filon)
	#L1 consomme 13/an ; L2 consomme 26/an ; L3 consomme 40/an
	#
	#nouveau filon prolonge de XX le stock + alea
	#decision d'investir prolonge de XX le stock + alea
	#
	#
	#stock à zéro = mine inactive.
	#définir seuil inactivité selon les valeurs à défalquer
	#!!! voir les combinaisons de multiples
	#	
	#
			random_list = {
				05 = { change_variable = { which = "stock_minerai" value =  400 } } #20*20
				05 = { change_variable = { which = "stock_minerai" value =  440 } } #20*22
				05 = { change_variable = { which = "stock_minerai" value =  480 } }
				05 = { change_variable = { which = "stock_minerai" value =  520 } }
				10 = { change_variable = { which = "stock_minerai" value =  560 } }
				10 = { change_variable = { which = "stock_minerai" value =  600 } }
				10 = { change_variable = { which = "stock_minerai" value =  640 } }
				25 = { change_variable = { which = "stock_minerai" value =  680 } }
				30 = { change_variable = { which = "stock_minerai" value =  720 } }
				30 = { change_variable = { which = "stock_minerai" value =  760 } } 
				25 = { change_variable = { which = "stock_minerai" value =  800 } } 
				10 = { change_variable = { which = "stock_minerai" value =  840 } }
				10 = { change_variable = { which = "stock_minerai" value =  880 } }
				10 = { change_variable = { which = "stock_minerai" value =  920 } }
				05 = { change_variable = { which = "stock_minerai" value =  960 } }
				05 = { change_variable = { which = "stock_minerai" value = 1000 } } #20*50
				}
			}

	option = {
		name = "ECO.00140A"
		#remove_province_modifier = minerai1
		add_province_modifier = { name = minerai2_fer duration = -1 }
		
	}
}

#activation MINERAI -sel
province_event = {
    id = ECO.00141
	desc = "DESCECO.00141"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = minerai1
		NOT = { has_province_modifier = minerai2_sel_gemme }
		any_province_holding = {
			has_building = CT_MINE_sel_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00141A"
		add_province_modifier = { name = minerai2_sel_gemme duration = -1 }		
	}
}

#activation PECHE
province_event = {
    id = ECO.00150
	desc = "DESCECO.00150"
	picture = GFX_evt_L3T_fishing
	
	trigger = {
		has_province_modifier = peche1
		NOT = { has_province_modifier = peche2_poisson }
		any_province_holding = {
			OR = {	
				has_building = CA_FISH_peche_L2
				has_building = CT_FISH_peche_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00150A"
		remove_province_modifier = peche1
		add_province_modifier = { name = peche1 duration = -1 hidden = yes } #now hidden instead of removed
		add_province_modifier = { name = peche2_poisson duration = -1 }		
	}
}

#activation PISCICULTURE
province_event = {
    id = ECO.00151
	desc = "DESCECO.00151"
	picture = GFX_evt_L3T_fishing
	
	trigger = {
		has_province_modifier = pisci1
		NOT = { has_province_modifier = pisci2_poisson }
		any_province_holding = {
			OR = {	
				has_building = CA_FISH_pisci_L2
				has_building = TP_FISH_pisci_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00151A"
		remove_province_modifier = pisci1
		add_province_modifier = { name = pisci1 duration = -1 hidden = yes } #now hidden instead of removed
		add_province_modifier = { name = pisci2_poisson duration = -1 }		
	}
}

#activation BINOUSE
province_event = {
    id = ECO.00105
	desc = "DESCECO.00105"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = agriculture2_cereales
			any_neighbor_province = { has_province_modifier = agriculture2_cereales }
		}
		NOT = { 
			has_province_modifier = agriculture3_biere
			has_province_modifier = agriculture3_biere_Q1
			has_province_modifier = agriculture3_biere_Q2
			has_province_modifier = agriculture3_biere_Q3
		}
		any_province_holding = {
			OR = {	
				has_building = CT_brasserie_L2
				has_building = TP_brasserie_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00105A"
		add_province_modifier = { name = agriculture3_biere duration = -1 }		
	}
}

#activation VIN
province_event = {
    id = ECO.00106
	desc = "DESCECO.00106"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = agriculture2_vigne
			any_neighbor_province = { has_province_modifier = agriculture2_vigne }
		}
		NOT = { 
			has_province_modifier = agriculture3_vin
			has_province_modifier = agriculture3_vin_Q1
			has_province_modifier = agriculture3_vin_Q2
			has_province_modifier = agriculture3_vin_Q3			
		}
		any_province_holding = {
			OR = {	
				has_building = CT_chai_L2
				has_building = TP_chai_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00106A"
		add_province_modifier = { name = agriculture3_vin duration = -1 }		
	}
}

#activation CIDRE
province_event = {
    id = ECO.00108
	desc = "DESCECO.00108"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = agriculture2_fruits
			any_neighbor_province = { has_province_modifier = agriculture2_fruits }
		}
		NOT = { has_province_modifier = agriculture3_cidre}
		any_province_holding = {
			has_building = TP_presse_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00108A"
		add_province_modifier = { name = agriculture3_cidre duration = -1 }		
	}
}

#activation FARINE
province_event = {
    id = ECO.00107
	desc = "DESCECO.00107"
	picture = GFX_evt_L3T_moulin
	
	trigger = {
		has_province_modifier = agriculture2_cereales
		NOT = { has_province_modifier = agriculture3_farine }
		any_province_holding = {
			OR = {	
				has_building = CA_AGRI_moulin_L2
				has_building = CT_AGRI_moulin_L2
				has_building = TP_AGRI_moulin_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00107A"
		add_province_modifier = { name = agriculture3_farine duration = -1 }		
	}
}

#activation PAIN
province_event = {
    id = ECO.00109
	desc = "DESCECO.00109"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = agriculture3_farine
		NOT = { has_province_modifier = agriculture4_pain }
		any_province_holding = {
			OR = {	
				has_building = CA_AGRI_boulangerie_L2
				has_building = CT_AGRI_boulangerie_L2
				has_building = TP_AGRI_boulangerie_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00109A"
		add_province_modifier = { name = agriculture4_pain duration = -1 }		
	}
}

#activation VIANDE
province_event = {
    id = ECO.00114
	desc = "DESCECO.00114"
	picture = GFX_evt_L3T_boucherie
	
	trigger = {
		has_province_modifier = elevage2_boeuf
		NOT = { has_province_modifier = elevage3_viande }
		any_province_holding = {
			has_building = CT_ELEV_boucherie_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00114A"
		add_province_modifier = { name = elevage3_viande duration = -1 }		
	}
}

#activation FUMAISON
province_event = {
    id = ECO.00152
	desc = "DESCECO.00152"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = peche2_poisson
			has_province_modifier = pisci2_poisson
		}
		NOT = { has_province_modifier = peche_pisci3_fumaison }
		any_province_holding = {
			OR = {	
				has_building = CA_FISH_fumoir_L2
				has_building = CT_FISH_fumoir_L2
				has_building = TP_FISH_fumoir_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00152A"
		add_province_modifier = { name = peche_pisci3_fumaison duration = -1 }		
	}
}

#activation CUIR
province_event = {
    id = ECO.00113
	desc = "DESCECO.00113"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = elevage2_boeuf
			any_neighbor_province = { has_province_modifier = elevage2_boeuf }
		}
		NOT = { has_province_modifier = elevage3_cuir}
		any_province_holding = {
			has_building = CT_tannerie_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00113A"
		add_province_modifier = { name = elevage3_cuir duration = -1 }		
	}
}

#activation PLANCHE
province_event = {
    id = ECO.00122
	desc = "DESCECO.00122"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = foret2_bois
			any_neighbor_province = { has_province_modifier = foret2_bois }
		}
		NOT = { has_province_modifier = foret3_planche}
		any_province_holding = {
			OR = {	
				has_building = CA_scierie_L2
				has_building = CT_scierie_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00122A"
		add_province_modifier = { name = foret3_planche duration = -1 }		
	}
}

#activation VERRE
province_event = {
    id = ECO.00123
	desc = "DESCECO.00123"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = foret2_charbon
			any_neighbor_province = { has_province_modifier = foret2_charbon }
		}
		NOT = { has_province_modifier = foret3_verre}
		any_province_holding = {
			OR = {	
				has_building = CA_four_L2
				has_building = CT_four_L2
				has_building = TP_four_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00123A"
		add_province_modifier = { name = foret3_verre duration = -1 }		
	}
}

###
#the modifier will be given by the trade propection (targeted)decision
#the modifier is a pre-req/trigger for the buildings
#the potential for the decision is trade nodes and trade posts
###


##activation PEAUX
#province_event = {
#    id = ECO.00124
#	desc = "DESCECO.00124"
#	picture = GFX_evt_market
#	
#	trigger = {
#		NOT = { has_province_modifier = peaux2_fourrure }
#		any_province_holding = {
#			OR = {	
#				has_building = TR_import_peaux_3
#				has_building = CT_import_peaux_3
#			}
#		}
#	}
#		
#	mean_time_to_happen = { days = 360 }
#
#	option = {
#		name = "ECO.00124A"
#		add_province_modifier = { name = peaux2_fourrure duration = -1 }		
#	}
#}
##activation JOYAUX
#province_event = {
#    id = ECO.00125
#	desc = "DESCECO.00125"
#	picture = GFX_evt_market
#	
#	trigger = {
#		NOT = { has_province_modifier = joyaux2_bijoux }
#		any_province_holding = {
#			OR = {		
#				has_building = TR_import_joyaux_3
#				has_building = CT_import_joyaux_3
#			}
#		}
#	}
#		
#	mean_time_to_happen = { days = 360 }
#
#	option = {
#		name = "ECO.00125A"
#		add_province_modifier = { name = joyaux2_bijoux duration = -1 }		
#	}
#}
##activation EPICES
#province_event = {
#    id = ECO.00126
#	desc = "DESCECO.00126"
#	picture = GFX_evt_market
#	
#	trigger = {
#		NOT = { has_province_modifier = epices2_epices}
#		any_province_holding = {
#			OR = {		
#				has_building = TR_import_epices_3
#				has_building = CT_import_epices_3 
#			}
#		}
#	}
#		
#	mean_time_to_happen = { days = 360 }
#
#	option = {
#		name = "ECO.00126A"
#		add_province_modifier = { name = epices2_epices duration = -1 }		
#	}
#}

#activation PIERRE TAILLE
province_event = {
    id = ECO.00131
	desc = "DESCECO.00131"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = pierre2_pierre_brute
			any_neighbor_province = { has_province_modifier = pierre2_pierre_brute }
		}
		NOT = { has_province_modifier = pierre3_pierre_taille}
		any_province_holding = {
			OR = {	
				has_building = CA_pierre_taille_L2
				has_building = CT_pierre_taille_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00131A"
		add_province_modifier = { name = pierre3_pierre_taille duration = -1 }		
	}
}

#activation METAL
province_event = {
    id = ECO.00144
	desc = "DESCECO.00144"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = minerai2_fer
			any_neighbor_province = { has_province_modifier = minerai2_fer }
		}
		NOT = { has_province_modifier = minerai3_metal}
		any_province_holding = {
			has_building = CA_fonderie_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00144A"
		add_province_modifier = { name = minerai3_metal duration = -1 }		
	}
}

#activation OUTILS
province_event = {
    id = ECO.00145
	desc = "DESCECO.00145"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = minerai3_metal
			any_neighbor_province = { has_province_modifier = minerai3_metal }
		}
		NOT = { has_province_modifier = minerai4_outils}
		any_province_lord  = {
			is_ruler = yes
			any_demesne_title = {
				location = {	province_id = PREVPREVPREV	}
				tier = baron
				has_building = CA_outilleur_L2
			}
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00145A"
		add_province_modifier = { name = minerai4_outils duration = -1 }		
	}
}

#activation SEL RAFFINE
province_event = {
    id = ECO.00146
	desc = "DESCECO.00146"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = minerai2_sel_gemme
			any_neighbor_province = { has_province_modifier = minerai2_sel_gemme }
		}
		NOT = { has_province_modifier = minerai3_sel_raffine}
		any_province_holding = {
			has_building = CT_sel_raffine_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00146A"
		add_province_modifier = { name = minerai3_sel_raffine duration = -1 }		
	}
}

#activation SALAISON
province_event = {
    id = ECO.00147
	desc = "DESCECO.00147"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = minerai2_sel_gemme
			any_neighbor_province = { has_province_modifier = minerai2_sel_gemme }
		}
		NOT = { has_province_modifier = minerai3_salaison}
		any_province_holding = {
			has_building = CT_saline_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00147A"
		add_province_modifier = { name = minerai3_salaison duration = -1 }		
	}
}

#activation ETOFFE
province_event = {
    id = ECO.00115
	desc = "DESCECO.00115"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = elevage2_laine
			any_neighbor_province = { has_province_modifier = elevage2_laine }
		}
		NOT = { has_province_modifier = elevage3_etoffe}
		any_province_holding = {
			has_building = CT_atelier_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00115A"
		add_province_modifier = { name = elevage3_etoffe duration = -1 }		
	}
}

#activation DRAP
province_event = {
    id = ECO.00116
	desc = "DESCECO.00116"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = elevage3_etoffe
			any_neighbor_province = { has_province_modifier = elevage3_etoffe }
		}
		NOT = { has_province_modifier = elevage4_drap}
		any_province_holding = {
			has_building = CT_draperie_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00116A"
		add_province_modifier = { name = elevage4_drap duration = -1 }		
	}
}

#activation ELEVAGE -cheval
province_event = {
    id = ECO.00117
	desc = "DESCECO.00117"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = elevage1
		NOT = { has_province_modifier = elevage2_cheval }
		any_province_holding = {
			has_building = CA_ELEV_cheval_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00117A"
		add_province_modifier = { name = elevage2_cheval duration = -1 }		
	}
}

# activation ARMES
province_event = {
    id = ECO.00148
	desc = "DESCECO.00148"
	picture = GFX_evt_market
	
	trigger = {
		OR = {
			has_province_modifier = minerai3_metal
			any_neighbor_province = { has_province_modifier = minerai3_metal }
		}
		NOT = { has_province_modifier = minerai4_armes}
		any_province_holding = {
			has_building = CA_armurerie_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00148A"
		add_province_modifier = { name = minerai4_armes duration = -1 }	
		custom_tooltip = { text = des_armes }
	}
}

#activation OR
province_event = {
    id = ECO.00142
	desc = "DESCECO.00142"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = minerai1
		NOT = { has_province_modifier = minerai2_or }
		any_province_holding = {
			has_building = CT_MINE_or_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00142A"
		add_province_modifier = { name = minerai2_or duration = -1 }		
	}
}

#activation CUIVRE
province_event = {
    id = ECO.00143
	desc = "DESCECO.00143"
	picture = GFX_evt_market
	
	trigger = {
		has_province_modifier = minerai1
		NOT = { has_province_modifier = minerai2_cuivre }
		any_province_holding = {
			has_building = CT_MINE_cuivre_L2
		}
	}
		
	mean_time_to_happen = { days = 360 }

	option = {
		name = "ECO.00143A"
		add_province_modifier = { name = minerai2_cuivre duration = -1 }		
	}
}
