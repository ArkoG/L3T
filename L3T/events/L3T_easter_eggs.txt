namespace = L3T

#end if we go to war.
character_event = {
	id = L3T.401
	desc = "DESCL3T.401"
	picture = "GFX_evt_hunt"

	only_playable = yes
	war = yes

	trigger = {
		has_character_flag = search_easter_eggs
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		clr_character_flag = search_easter_eggs
		clr_character_flag = do_not_disturb
		clr_character_flag = egg_found
		clr_character_flag = search_egg1
		clr_character_flag = search_egg2
		clr_character_flag = search_egg4
		clr_character_flag = search_egg5
	}

	option = {
		name = "L3T.401A"
	}
}

#Normal end.
character_event = {
	id = L3T.402
	desc = "DESCL3T.402"
	picture = "GFX_evt_hunt"

	is_triggered_only = yes

	trigger = {
		has_character_flag = search_easter_eggs
	}

	immediate = {
		clr_character_flag = search_easter_eggs
		clr_character_flag = do_not_disturb
		clr_character_flag = egg_found
		clr_character_flag = search_egg1
		clr_character_flag = search_egg2
		clr_character_flag = search_egg4
		clr_character_flag = search_egg5
	}

	option = {
		name = "L3T.402A"
		piety = 10
	}
}

# Search egg number 1
character_event = {
	id = L3T.411
	desc = "DESCL3T.411"
	picture = "GFX_evt_REC2"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_easter_eggs
		OR = {
			location = {
				any_province_holding = {
					is_holy_site = ROOT
				}
			}
			ai = yes # A AI cannot think to move to an holy site
		}
		NOT = { has_character_flag = egg_found }
		NOT = { has_character_flag = search_egg1 }
		NOT = { has_character_flag = search_egg2 }
		NOT = { has_character_flag = search_egg4 }
		NOT = { has_character_flag = search_egg5 }
		NOT = { has_artifact = oeuf_1 }
		NOT = { has_artifact = oeuf_united }
	}

	mean_time_to_happen = {
		days = 30	

		modifier = {
			factor = 0.75
			trait = patient
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 1.25
			trait = cynical
		}
		modifier = {
			factor = 1.25
			trait = slothful
		}
	}
	
	option = {
		name = "L3T.411A"
		trigger = { NOT = { trait = excommunicated } }
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 3
				trait = humble
			}
		}
		set_character_flag = search_egg1
		hidden_tooltip = { religion_head  = { character_event = { id = L3T.412 days = 30 } } }
	}
	
	option = {
		name = "L3T.411B"
		tooltip_info = deceitful
		trigger = { trait = deceitful }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		religion_head  = {
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
		}
		add_artifact = oeuf_1
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.411B"
		tooltip_info = intrigue
		trigger = {
			NOT = { trait = honest }
			NOT = { trait = deceitful }
			intrigue = 12
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		religion_head  = {
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
		}
		add_artifact = oeuf_1
		add_trait = deceitful
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.411C"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
		}
		if = {
			limit = { NOT = { trait = content } }
			add_trait = content
		}
	}
	
	option = {
		name = "L3T.411D"
		trigger = { trait = excommunicated }
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 3
				trait = humble
			}
		}
		set_character_flag = search_egg1
	}
}

# Religous head takes a decision
character_event = {
	id = L3T.412

	only_playable = yes
	prisoner = no
	capable_only = yes
	
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		random_list = {
			30 = {
				modifier = {
					factor = 2
					opinion = { who = FROM value = 25 } 
				}
				modifier = {
					factor = 2
					opinion = { who = FROM value = 50 } 
				}
				modifier = {
					factor = 2
					opinion = { who = FROM value = 75 } 
				}
				modifier = {
					factor = 2
					trait = crusader
				}
				
				FROM = { character_event = { id = L3T.413 days = 10 }} 
			}
			70 = {
				modifier = {
					factor = 2
					NOT = { opinion = { who = FROM value = 0 } }
				}
				modifier = {
					factor = 2
					NOT = { opinion = { who = FROM value = -25 } }
				}
				FROM = { character_event = { id = L3T.414 days = 10 }} 
			}
		}
	}
}

# Religous head accepts
character_event = {
	id = L3T.413
	desc = "DESCL3T.413"
	picture = "GFX_evt_pope"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.413A"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				trait = greedy
			}
			modifier = {
				factor = 3
				trait = charitable
			}
			modifier = {
				factor = 0.1
				NOT = { wealth = 20 }
			}
			modifier = {
				factor = 3
				wealth = 100
			}
		}
		wealth = -10
		add_artifact = oeuf_1
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.413B"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				piety = 200
			}
		}
		piety = -10
		add_artifact = oeuf_1
		set_character_flag = egg_found
	}
}

# Relious head refuses
character_event = {
	id = L3T.414
	desc = "DESCL3T.414"
	picture = "GFX_evt_pope"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.414A"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = content
			}
		}
		prestige = -10
	}
	
	option = {
		name = "L3T.414B"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = deceitful
			}
		}
		piety = -10
		religion_head  = {
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 10 }
		}
		add_artifact = oeuf_1
		set_character_flag = egg_found
	}
}

# Search egg number 2
character_event = {
	id = L3T.421
	desc = "DESCL3T.421"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_easter_eggs
		NOT = { has_character_flag = egg_found }
		NOT = { has_character_flag = doNotLikeMarket }
		NOT = { has_character_flag = search_egg1 }
		NOT = { has_character_flag = search_egg2 }
		NOT = { has_character_flag = search_egg4 }
		NOT = { has_character_flag = search_egg5 }
		NOT = { has_artifact = oeuf_2 }
		NOT = { has_artifact = oeuf_united }
	}

	mean_time_to_happen = {
		days = 30	

		modifier = {
			factor = 0.75
			trait = patient
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 1.25
			trait = cynical
		}
		modifier = {
			factor = 1.25
			trait = slothful
		}
	}

	option = {
		name = "L3T.421A"
		ai_chance = {
			factor = 90
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 3
				trait = humble
			}
		}
		set_character_flag = search_egg2
		character_event = { id = L3T.422 days = 30 }
		character_event = { id = L3T.423 days = 30 }
		character_event = { id = L3T.424 days = 30 }
		character_event = { id = L3T.425 days = 30 }
		character_event = { id = L3T.426 days = 30 }
	}

	option = {
		name = "L3T.421B"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = wroth
			}
			modifier = {
				factor = 10
				trait = proud
			}
		}
		set_character_flag = doNotLikeMarket
	}
}

# Buy an egg in a small market
character_event = {
	id = L3T.422
	desc = "DESCL3T.422"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg2
		has_character_flag = search_easter_eggs
		NOT = {
			any_demesne_province = {
				OR = {
					has_province_modifier = noeud_commercial_primaire
					has_province_modifier = noeud_commercial_annexe
				}
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = "L3T.422A"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				10 = {
					modifier = {
						factor = 3
						stewardship = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				70 = {
					modifier = {
						factor = 3
						NOT = { stewardship = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422B"
		wealth = -10
		hidden_tooltip = {
			random_list = {
				10 = {
					modifier = {
						factor = 3
						learning = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				70 = {
					modifier = {
						factor = 3
						NOT = { learning = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422C"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				10 = {
					modifier = {
						factor = 5
						trait = genius
					}
					modifier = {
						factor = 2
						trait = quick
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				70 = {
					modifier = {
						factor = 5
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = slow
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = greedy
			}
		}
		set_character_flag = doNotLikeMarket
	}
}

# Buy an egg in a medium market
character_event = {
	id = L3T.423
	desc = "DESCL3T.423"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg2
		has_character_flag = search_easter_eggs
		NOT = {
			any_demesne_province = {
				has_province_modifier = noeud_commercial_primaire
			}
		}
		any_demesne_province = {
			has_province_modifier = noeud_commercial_annexe
		}
	}

	is_triggered_only = yes

	option = {
		name = "L3T.422A"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				20 = {
					modifier = {
						factor = 3
						stewardship = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				30 = {
					character_event = { id = L3T.428 days = 10 }
				}
				50 = {
					modifier = {
						factor = 3
						NOT = { stewardship = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422B"
		wealth = -10
		hidden_tooltip = {
			random_list = {
				20 = {
					modifier = {
						factor = 3
						learning = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				30 = {
					character_event = { id = L3T.428 days = 10 }
				}
				50 = {
					modifier = {
						factor = 3
						NOT = { learning = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422C"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				20 = {
					modifier = {
						factor = 5
						trait = genius
					}
					modifier = {
						factor = 2
						trait = quick
					}
					character_event = { id = L3T.427 days = 10 }
				}
				30 = {
					character_event = { id = L3T.428 days = 10 }
				}
				50 = {
					modifier = {
						factor = 5
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = slow
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = greedy
			}
		}
		set_character_flag = doNotLikeMarket
	}
}

# Buy an egg in a big market
character_event = {
	id = L3T.424
	desc = "DESCL3T.424"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg2
		has_character_flag = search_easter_eggs
		any_demesne_province = {
			has_province_modifier = noeud_commercial_primaire
		}
		NOT = {
			any_demesne_province = {
				has_province_modifier = noeud_commercial_primaire
				OR = {
					has_province_modifier = route_size3
					has_province_modifier = route_size4
					has_province_modifier = route_size5
				}
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = "L3T.422A"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				30 = {
					modifier = {
						factor = 3
						stewardship = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				30 = {
					character_event = { id = L3T.428 days = 10 }
				}
				40 = {
					modifier = {
						factor = 3
						NOT = { stewardship = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422B"
		wealth = -10
		hidden_tooltip = {
			random_list = {
				30 = {
					modifier = {
						factor = 3
						learning = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				30 = {
					character_event = { id = L3T.428 days = 10 }
				}
				40 = {
					modifier = {
						factor = 3
						NOT = { learning = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422C"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				30 = {
					modifier = {
						factor = 5
						trait = genius
					}
					modifier = {
						factor = 2
						trait = quick
					}
					character_event = { id = L3T.427 days = 10 }
				}
				30 = {
					character_event = { id = L3T.428 days = 10 }
				}
				40 = {
					modifier = {
						factor = 5
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = slow
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = greedy
			}
		}
		set_character_flag = doNotLikeMarket
	}
}

# Buy an egg in a very big market
character_event = {
	id = L3T.425
	desc = "DESCL3T.425"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg2
		has_character_flag = search_easter_eggs
		any_demesne_province = {
			has_province_modifier = noeud_commercial_primaire
			OR = {
				has_province_modifier = route_size3
				has_province_modifier = route_size4
			}
		}
		NOT = {
			any_demesne_province = {
				has_province_modifier = noeud_commercial_primaire
				has_province_modifier = route_size5
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = "L3T.422A"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				50 = {
					modifier = {
						factor = 3
						stewardship = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				30 = {
					modifier = {
						factor = 3
						NOT = { stewardship = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422B"
		wealth = -10
		hidden_tooltip = {
			random_list = {
				50 = {
					modifier = {
						factor = 3
						learning = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				30 = {
					modifier = {
						factor = 3
						NOT = { learning = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422C"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				50 = {
					modifier = {
						factor = 5
						trait = genius
					}
					modifier = {
						factor = 2
						trait = quick
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				30 = {
					modifier = {
						factor = 5
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = slow
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = greedy
			}
		}
		set_character_flag = doNotLikeMarket
	}
}

# Buy an egg in a huge market
character_event = {
	id = L3T.426
	desc = "DESCL3T.426"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg2
		has_character_flag = search_easter_eggs
		any_demesne_province = {
			has_province_modifier = noeud_commercial_primaire
			has_province_modifier = route_size5
		}
	}

	is_triggered_only = yes

	option = {
		name = "L3T.422A"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				60 = {
					modifier = {
						factor = 3
						stewardship = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				20 = {
					modifier = {
						factor = 3
						NOT = { stewardship = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422B"
		wealth = -10
		hidden_tooltip = {
			random_list = {
				60 = {
					modifier = {
						factor = 3
						learning = 12
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				20 = {
					modifier = {
						factor = 3
						NOT = { learning = 8 }
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422C"
		wealth = -5
		hidden_tooltip = {
			random_list = {
				60 = {
					modifier = {
						factor = 5
						trait = genius
					}
					modifier = {
						factor = 2
						trait = quick
					}
					character_event = { id = L3T.427 days = 10 }
				}
				20 = {
					character_event = { id = L3T.428 days = 10 }
				}
				20 = {
					modifier = {
						factor = 5
						trait = imbecile
					}
					modifier = {
						factor = 2
						trait = slow
					}
					character_event = { id = L3T.429 days = 10 }
				}
			}
		}
	}

	option = {
		name = "L3T.422D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = greedy
			}
		}
		set_character_flag = doNotLikeMarket
	}
}

# Egg number 2 bought
character_event = {
	id = L3T.427
	desc = "DESCL3T.427"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	immediate = { set_character_flag = egg_found }
	
	option = {
		name = "L3T.427A"
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				trait = patient
			}
		}
		add_artifact = oeuf_2
	}
	
	option = {
		name = "L3T.427B"
		trigger = { NOT = { trait = humble } }
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = proud
			}
		}
		add_artifact = oeuf_2
		if = {
			limit = { NOT = { trait = proud } }
			add_trait = proud
		}
	}
}

# Good egg bought
character_event = {
	id = L3T.428
	desc = "DESCL3T.428"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.428A"
		trigger = { NOT = { trait = patient } }
		if = {
			limit = { NOT = { trait = wroth } }
			add_trait = wroth
		}
	}
	
	option = {
		name = "L3T.428B"
		trigger = { NOT = { trait = wroth } }
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = patient
			}
		}
		if = {
			limit = { NOT = { trait = patient } }
			add_trait = patient
		}
		character_event = { id = L3T.422 days = 10 }
		character_event = { id = L3T.423 days = 10 }
		character_event = { id = L3T.424 days = 10 }
		character_event = { id = L3T.425 days = 10 }
		character_event = { id = L3T.426 days = 10 }
	}
	
	option = {
		name = "L3T.428C"
		tooltip_info = deceitful
		trigger = { trait = deceitful }
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		add_artifact = oeuf_2
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.428C"
		tooltip_info = intrigue
		trigger = {
			NOT = { trait = honest }
			NOT = { trait = deceitful }
			intrigue = 12
		}
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		add_artifact = oeuf_2
		add_trait = deceitful
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.428D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
		}
		if = {
			limit = { NOT = { trait = content } }
			add_trait = content
		}
		set_character_flag = doNotLikeMarket
	}
}

# Bad egg bought
character_event = {
	id = L3T.429
	desc = "DESCL3T.429"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.429A"
		trigger = { NOT = { trait = patient } }
		if = {
			limit = { NOT = { trait = wroth } }
			add_trait = wroth
		}
	}
	
	option = {
		name = "L3T.429B"
		trigger = { NOT = { trait = wroth } }
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = patient
			}
		}
		if = {
			limit = { NOT = { trait = patient } }
			add_trait = patient
		}
		character_event = { id = L3T.422 days = 10 }
		character_event = { id = L3T.423 days = 10 }
		character_event = { id = L3T.424 days = 10 }
		character_event = { id = L3T.425 days = 10 }
		character_event = { id = L3T.426 days = 10 }
	}
	
	option = {
		name = "L3T.429C"
		trigger = { NOT = { trait = arbitrary } }
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = just
			}
		}
		if = {
			limit = { NOT = { trait = just } }
			add_trait = just
		}
		wealth = 10
		prestige = -10
		character_event = { id = L3T.422 days = 10 }
		character_event = { id = L3T.423 days = 10 }
		character_event = { id = L3T.424 days = 10 }
		character_event = { id = L3T.425 days = 10 }
		character_event = { id = L3T.426 days = 10 }
	}
	
	option = {
		name = "L3T.429D"
		trigger = { NOT = { trait = kind } }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = cruel
			}
		}
		if = {
			limit = { NOT = { trait = cruel } }
			add_trait = cruel
		}
		prestige = 10
	}
}

# Give egg number 3
character_event = {
	id = L3T.431
	desc = "DESCL3T.431"
	picture = "GFX_evt_hunt"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = canGetEasterEgg3
		NOT = { has_character_flag = egg_found }
		NOT = { has_character_flag = search_egg1 }
		NOT = { has_character_flag = search_egg2 }
		NOT = { has_character_flag = search_egg4 }
		NOT = { has_character_flag = search_egg5 }
		NOT = { has_artifact = oeuf_3 }
		NOT = { has_artifact = oeuf_united }
	}

	immediate = {
		set_character_flag = egg_found
	}	

	mean_time_to_happen = {
		days = 30	

		modifier = {
			factor = 0.75
			trait = patient
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 1.25
			trait = cynical
		}
		modifier = {
			factor = 1.25
			trait = slothful
		}
	}

	option = {
		name = "L3T.431A"
		trigger = { NOT = { trait = honest } }
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = greedy
			}
		}
		add_artifact = oeuf_3
		if = {
			limit = { NOT = { trait = deceitful } }
			add_trait = deceitful
		}
	}

	option = {
		name = "L3T.431B"
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = ambitious
			}
		}
		add_artifact = oeuf_3
		wealth = -10
		piety = 5
	}

	option = {
		name = "L3T.431C"
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = greedy
			}
		}
		piety = 10
		prestige = -10
		clr_character_flag = canGetEasterEgg3
	}
}

# Search egg number 4
character_event = {
	id = L3T.441
	desc = "DESCL3T.441"
	picture = "GFX_evt_hunt"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_easter_eggs
		NOT = { has_character_flag = egg_found }
		any_demesne_province = {
			has_province_modifier = foret_up
		}
		NOT = { has_character_flag = doNotLikeForest }
		NOT = { has_character_flag = search_egg1 }
		NOT = { has_character_flag = search_egg2 }
		NOT = { has_character_flag = search_egg4 }
		NOT = { has_character_flag = search_egg5 }
		NOT = { has_artifact = oeuf_4 }
		NOT = { has_artifact = oeuf_united }
	}

	mean_time_to_happen = {
		days = 30	

		modifier = {
			factor = 0.75
			trait = patient
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 1.25
			trait = cynical
		}
		modifier = {
			factor = 1.25
			trait = slothful
		}
	}

	option = {
		name = "L3T.441A"
		ai_chance = {
			factor = 90
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 3
				trait = humble
			}
		}
		set_character_flag = search_egg4
	}

	option = {
		name = "L3T.441B"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = wroth
			}
			modifier = {
				factor = 10
				trait = proud
			}
		}
		set_character_flag = doNotLikeForest
	}
}

# Found egg 4 by oneself
character_event = {
	id = L3T.442
	desc = "DESCL3T.442"
	picture = "GFX_evt_hunt"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg4
		has_character_flag = search_easter_eggs
	}

	mean_time_to_happen = { days = 30 }

	option = {
		name = "L3T.442A"
		add_artifact = oeuf_4
		set_character_flag = egg_found
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				learning = 15
			}
		}
	}

	option = {
		name = "L3T.442B"
		trigger = { NOT = { trait = wroth } }
		ai_chance = {
			factor = 40
			modifier = {
				factor = 5
				trait = patient
			}
		}
		if = {
			limit = { NOT = { trait = patient } }
			add_trait = patient
		}
	}

	option = {
		name = "L3T.442C"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = wroth
			}
		}
		clr_character_flag = search_egg4
		set_character_flag = doNotLikeForest
	}
}

# Someone else found egg 4
character_event = {
	id = L3T.443
	desc = "DESCL3T.443"
	picture = "GFX_evt_hunt"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_egg4
		has_character_flag = search_easter_eggs
	}

	mean_time_to_happen = { days = 30 }

	option = {
		name = "L3T.443A"
		add_artifact = oeuf_4
		set_character_flag = egg_found
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				learning = 15
			}
		}
		piety = -10
	}

	option = {
		name = "L3T.443B"
		add_artifact = oeuf_4
		set_character_flag = egg_found
		ai_chance = {
			factor = 40
			modifier = {
				factor = 2
				learning = 15
			}
			modifier = {
				factor = 2
				wealth = 50
			}
		}
		wealth = -10
		prestige = 10
	}

	option = {
		name = "L3T.443C"
		trigger = { NOT = { trait = wroth } }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = patient
			}
		}
		if = {
			limit = { NOT = { trait = patient } }
			add_trait = patient
		}
	}

	option = {
		name = "L3T.443D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				trait = wroth
			}
		}
		clr_character_flag = search_egg4
		set_character_flag = doNotLikeForest
	}
}

# Search egg number 5
character_event = {
	id = L3T.451
	desc = "DESCL3T.451"
	picture = "GFX_evt_market"

	only_playable = yes
	prisoner = no
	capable_only = yes

	trigger = {
		has_character_flag = search_easter_eggs
		NOT = { has_character_flag = egg_found }
		NOT = { has_character_flag = search_egg1 }
		NOT = { has_character_flag = search_egg2 }
		NOT = { has_character_flag = search_egg4 }
		NOT = { has_character_flag = search_egg5 }
		NOT = { has_artifact = oeuf_5 }
		NOT = { has_artifact = oeuf_united }
	}

	mean_time_to_happen = {
		days = 30	

		modifier = {
			factor = 0.75
			trait = patient
		}
		modifier = {
			factor = 0.9
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 1.25
			trait = cynical
		}
		modifier = {
			factor = 1.25
			trait = slothful
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					any_courtier = {
						prisoner = no
						is_ruler = no
						has_artifact = oeuf_5
					}
				}
			}
			random_courtier = {
				limit = {
					prisoner = no
					is_ruler = no
					NOT = { dynasty = ROOT }
				}
				add_artifact = oeuf_5
			}
		}
		set_character_flag = search_egg5
	}
	
	option = {
		name = "L3T.451A"
		ai_chance = {
			factor = 30
			modifier = {
				factor = 3
				trait = arbitrary
			}
			modifier = {
				factor = 2
				NOT = { wealth = 20 }
			}
		}
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			character_event = { id = L3T.452 days = 10 }
		}
	}
	
	option = {
		name = "L3T.451B"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = greedy
			}
		}
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			character_event = { id = L3T.455 days = 10 }
		}
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = deceitful
		trigger = { trait = deceitful }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = intrigue
		trigger = {
			NOT = { trait = honest }
			NOT = { trait = deceitful }
			intrigue = 12
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		add_trait = deceitful
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.451D"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 0.1
				trait = ambitious
			}
		}
		if = {
			limit = { NOT = { trait = content } }
			add_trait = content
		}
	}
}

# Courtier thinks about giving the egg
character_event = {
	id = L3T.452
	
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		random_list = {
			10 = {
				modifier = {
					factor = 2
					opinion = { who = FROM value = 50 } 
				}
				modifier = {
					factor = 2
					opinion = { who = FROM value = 75 } 
				}
				FROM = { character_event = { id = L3T.453 days = 10 } }
			}
			90 = {
				modifier = {
					factor = 2
					NOT = { opinion = { who = FROM value = 0 } }
				}
				modifier = {
					factor = 2
					NOT = { opinion = { who = FROM value = -25 } }
				}
				FROM = { character_event = { id = L3T.454 days = 10 } }
			}
		}
	}
}

# Courtier gives the egg
character_event = {
	id = L3T.453
	desc = "DESCL3T.453"
	picture = "GFX_evt_market"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.453A"
		FROM = {
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
	}
}

# Courtier refuses to give the egg
character_event = {
	id = L3T.454
	desc = "DESCL3T.454"
	picture = "GFX_evt_market"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.454A"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
		FROM = {
			imprison = ROOT
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
		if = {
			limit = { NOT = { trait = arbitrary } }
			add_trait = arbitrary
		}
	}
	
	option = {
		name = "L3T.451B"
		ai_chance = {
			factor = 80
			modifier = {
				factor = 2
				trait = greedy
			}
		}
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			character_event = { id = L3T.455 days = 10 }
		}
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = deceitful
		trigger = { trait = deceitful }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = intrigue
		trigger = {
			NOT = { trait = honest }
			NOT = { trait = deceitful }
			intrigue = 12
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		add_trait = deceitful
		set_character_flag = egg_found
	}
}

# Courtier thinks about selling the egg
character_event = {
	id = L3T.455
	
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		random_list = {
			30 = {
				modifier = {
					factor = 2
					opinion = { who = FROM value = 50 } 
				}
				modifier = {
					factor = 2
					opinion = { who = FROM value = 75 } 
				}
				FROM = { character_event = { id = L3T.456 days = 10 } }
			}
			30 = {
				modifier = {
					factor = 2
					opinion = { who = FROM value = 0 } 
				}
				
				FROM = { character_event = { id = L3T.457 days = 10 } }
			}
			40 = {
				modifier = {
					factor = 2
					NOT = { opinion = { who = FROM value = 0 } }
				}
				modifier = {
					factor = 2
					NOT = { opinion = { who = FROM value = -25 } }
				}
				FROM = { character_event = { id = L3T.458 days = 10 } }
			}
		}
	}
}

# Courtier sells the egg
character_event = {
	id = L3T.456
	desc = "DESCL3T.456"
	picture = "GFX_evt_market"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.456A"
		FROM = {
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
		wealth = -15
	}
}

# Courtier want more money
character_event = {
	id = L3T.457
	desc = "DESCL3T.457"
	picture = "GFX_evt_market"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.456A"
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0
				NOT = { wealth = 30 }
			}
		}
		FROM = {
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
		wealth = -30
	}
	
	option = {
		name = "L3T.457B"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 8
				NOT = { wealth = 30 }
			}
		}
		wealth = 10
		piety = -10
		random_list = {
			50 = {
				modifier = {
					factor = 2
					opinion = { who = FROM value = 50 } 
				}
				modifier = {
					factor = 2
					NOT = { wealth = 10 }
				}
				character_event = { id = L3T.459 days = 10 }
			}
			50 = {}
		}
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = deceitful
		trigger = { trait = deceitful }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = intrigue
		trigger = {
			NOT = { trait = honest }
			NOT = { trait = deceitful }
			intrigue = 12
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		add_trait = deceitful
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.454A"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
		FROM = {
			imprison = ROOT
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
		if = {
			limit = { NOT = { trait = arbitrary } }
			add_trait = arbitrary
		}
	}
}

# Courtier refuse to sell the egg
character_event = {
	id = L3T.458
	desc = "DESCL3T.458"
	picture = "GFX_evt_market"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.457B"
		ai_chance = {
			factor = 80
		}
		wealth = 10
		piety = -10
		hidden_tooltip = {
			random_list = {
				50 = {
					modifier = {
						factor = 2
						opinion = { who = FROM value = 50 } 
					}
					modifier = {
						factor = 2
						NOT = { wealth = 10 }
					}
					character_event = { id = L3T.459 days = 10 }
				}
				50 = {}
			}
		}
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = deceitful
		trigger = { trait = deceitful }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.451C"
		tooltip_info = intrigue
		trigger = {
			NOT = { trait = honest }
			NOT = { trait = deceitful }
			intrigue = 12
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		prestige = -20
		random_courtier = {
			limit = {
				prisoner = no
				is_ruler = no
				has_artifact = oeuf_5
			}
			opinion = { modifier = opinion_egg_stolen who = ROOT years = 5 }
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		add_trait = deceitful
		set_character_flag = egg_found
	}
	
	option = {
		name = "L3T.454A"
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
		FROM = {
			imprison = ROOT
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
		if = {
			limit = { NOT = { trait = arbitrary } }
			add_trait = arbitrary
		}
	}
}

# Courtier sells the egg finally by pressure
character_event = {
	id = L3T.459
	desc = "DESCL3T.459"
	picture = "GFX_evt_market"
	
	only_playable = yes
	prisoner = no
	capable_only = yes

	is_triggered_only = yes
	
	option = {
		name = "L3T.459A"
		FROMFROM = {
			random_artifact = {
				limit = { has_artifact_flag = easter }
				transfer_artifact = {
					from = PREV
					to = ROOT
				}
			}
		}
		set_character_flag = egg_found
		wealth = -15
	}
}

###########################################
# Flag management                         #
###########################################

# Safety catch - clears character flags and modifiers
character_event = {
	id = L3T.499

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = search_easter_eggs
		clr_character_flag = do_not_disturb
		clr_character_flag = egg_found
		clr_character_flag = search_egg1
		clr_character_flag = search_egg2
		clr_character_flag = search_egg4
		clr_character_flag = search_egg5
	}
}
